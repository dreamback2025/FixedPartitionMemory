# 固定分区内存管理系统

这是一个实现操作系统内核多任务并发运行机制的系统，包含进程/线程调度模型。系统实现了固定分区分配存储管理，并支持时间片轮转调度算法。

## 功能特性

### 内存管理
- 固定分区分配算法
- 支持首次适应、最佳适应、最坏适应三种分配策略
- 内存紧凑功能
- 内存使用情况监控

### 进程调度
- 时间片轮转（Round Robin）调度算法
- 支持进程的创建、就绪、运行、等待、终止状态管理
- 进程内存分配与回收

### 用户交互
- 支持自动生成进程
- 支持手动输入进程参数
- 支持键盘控制（按任意键推进时间）和自动模式（定时器）
- 进程执行情况记录到磁盘文件

## 已修复的Bug

1. **多重定义错误**：`process_table` 在多个文件中被定义，导致链接错误
2. **静态变量访问错误**：`g_scheduler` 在scheduler.c中被定义为静态变量，无法从demo.c中访问
3. **类型重定义错误**：在os_types.h中重复定义了标准整数类型
4. **函数声明缺失**：`get_memory_base` 函数在compact.c中使用但未正确声明

## 系统架构

- **内核模块**：提供基本的内核服务
- **进程管理模块**：管理进程的生命周期和状态转换
- **内存管理模块**：实现固定分区分配算法
- **调度器模块**：实现进程调度算法
- **演示模块**：提供用户界面和交互功能

## 编译与运行

```bash
gcc -o kernel_simulator init.c log.c process.c partition.c memory.c scheduler.c compact.c demo.c -DDEBUG
./kernel_simulator
```

## 使用说明

1. 选择进程生成方式（自动生成或手动输入）
2. 选择时间推进方式（手动模式或自动模式）
3. 系统将显示内存映射、进程状态和调度信息
4. 可使用以下快捷键：
   - Q/q: 退出程序
   - C/c: 执行内存紧凑
   - F/f: 切换到首次适应算法
   - B/b: 切换到最佳适应算法
   - W/w: 切换到最坏适应算法